<UserControl xmlns:my="clr-namespace:EZXLightspeedGUI.View"  x:Class="EZXLightspeedGUI.View.GroupUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:EZXLightspeedGUI.ViewModel"
             mc:Ignorable="d" 
             d:DesignHeight="500" d:DesignWidth="550">
    <!--<UserControl.DataContext>
        <vm:GroupSettingVM/>
    </UserControl.DataContext>-->
    <GroupBox Header="{Binding Heading}" BorderThickness="1">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition  Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="195"/>
            <ColumnDefinition/>
            
        </Grid.ColumnDefinitions>
        <TextBlock Grid.Column="0" Margin="2,5,2,2" Grid.Row="0" Text="New Group Name:" 
                   HorizontalAlignment="Right" 
                   Visibility="{Binding Path=IsAddingNewGroup, Converter={StaticResource BooleanToVisibilityConverter}}"/>
        <TextBox Grid.Column="1" x:Name="grpAccName"
                 Margin="2,2,2,8" Grid.Row="0" Text="{Binding SelectedGroup.Name}" HorizontalAlignment="Left" MinWidth="175" MinHeight="25" MaxWidth="450"
                 Visibility="{Binding Path=IsAddingNewGroup, Converter={StaticResource BooleanToVisibilityConverter}}" TextWrapping="Wrap" 
                 Focusable="True"
                 GotFocus="TextBox_GotFocus"
                 KeyDown="TextBox_KeyDown"/>

        <my:RiskSettingUserControl Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" DataContext="{Binding Path=SelectedRiskSetting}" />
        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Margin="10" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="btnSave" Content="{Binding SaveButtonContent}" MinWidth="105" Height="28" Margin="10" Padding="2" Click="ButtonSave_Click" />
                <Button x:Name="btnCancel" Content="Cancel" Width="80" Height="28" Margin="10" Click="ButtonCancel_Click" Padding="2"/>
        </StackPanel>
    </Grid>
    </GroupBox>
</UserControl>
